<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swing Trading Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; padding: 0; background: #111827; font-family: system-ui, -apple-system, sans-serif; }
    </style>
</head>
<body>
    <div id="app"></div>
    
    <script>
        // Vanilla JavaScript Version - kein React nötig
        const candlestickData = {
            '1H': [
                { date: '08:00', open: 413.5, high: 415.2, low: 413.0, close: 414.8, volume: 850000 },
                { date: '09:00', open: 414.8, high: 416.0, low: 414.2, close: 415.5, volume: 920000 },
                { date: '10:00', open: 415.5, high: 416.8, low: 415.0, close: 415.2, volume: 780000 },
                { date: '11:00', open: 415.2, high: 416.5, low: 414.5, close: 414.9, volume: 810000 },
                { date: '12:00', open: 414.9, high: 415.8, low: 414.0, close: 414.5, volume: 690000 },
                { date: '13:00', open: 414.5, high: 415.5, low: 413.8, close: 414.2, volume: 750000 },
                { date: '14:00', open: 414.2, high: 415.0, low: 413.5, close: 414.0, volume: 820000 },
                { date: '15:00', open: 414.0, high: 415.2, low: 413.8, close: 414.91, volume: 950000 },
            ],
            '1D': [
                { date: '15.12', open: 393, high: 398, low: 391, close: 395, volume: 11500000 },
                { date: '16.12', open: 395, high: 402, low: 394, close: 398.5, volume: 12200000 },
                { date: '17.12', open: 398.5, high: 405, low: 397, close: 402, volume: 13100000 },
                { date: '18.12', open: 402, high: 408, low: 401, close: 405.5, volume: 12800000 },
                { date: '19.12', open: 405.5, high: 410, low: 404, close: 408, volume: 13500000 },
                { date: '20.12', open: 408, high: 413, low: 407, close: 410.5, volume: 14200000 },
                { date: '21.12', open: 410.5, high: 415, low: 409, close: 413, volume: 12900000 },
                { date: '22.12', open: 413, high: 418, low: 412, close: 415, volume: 13400000 },
                { date: '23.12', open: 415, high: 422, low: 414, close: 418.5, volume: 15800000 },
                { date: '24.12', open: 418.5, high: 423, low: 417, close: 420, volume: 14100000 },
                { date: '25.12', open: 420, high: 421, low: 415, close: 417, volume: 10500000 },
                { date: '26.12', open: 417, high: 418, low: 413, close: 414.91, volume: 12500000 },
                { date: '27.12', open: 414.91, high: 416, low: 413, close: 414.91, volume: 11800000 },
            ]
        };

        let currentTimeframe = '1D';
        let currentData = candlestickData['1D'];

        const analysisData = {
            aktie: "Microsoft",
            kurs: 414.91,
            empfehlung: { aktion: "KAUFEN bei Pullback", typ: "PULLBACK", qualitaet: "A", score: 82 },
            entry: { status: "WARTEN", best: "408-411 EUR", preis: 409.00, methode: "Limit", rr: "1:2.5" },
            exit: { stop: 398.00, t1: 430.00, t2: 445.00 },
            scores: { sentiment: 80, technical: 70, fundamental: 65, makro: 55, timing: 68, pattern: 75 },
            levels: { resist: [420, 430], support: [408, 400] },
            risk: { loss: 11, gain: 21, ratio: "1:2.5" }
        };

        function renderCandles(data) {
            const max = Math.max(...data.map(d => d.high));
            const min = Math.min(...data.map(d => d.low));
            const range = max - min;
            const h = 350;
            const w = 800 / data.length - 10;
            
            let svg = '';
            data.forEach((e, i) => {
                const green = e.close > e.open;
                const color = green ? '#22c55e' : '#ef4444';
                const x = (i * 800) / data.length + 5;
                const scale = (p) => h - ((p - min) / range) * h;
                const hy = scale(e.high);
                const ly = scale(e.low);
                const oy = scale(e.open);
                const cy = scale(e.close);
                const top = Math.min(oy, cy);
                const height = Math.max(Math.abs(oy - cy), 1);
                
                svg += `<line x1="${x + w/2}" y1="${hy}" x2="${x + w/2}" y2="${ly}" stroke="${color}" stroke-width="1.5"/>`;
                svg += `<rect x="${x}" y="${top}" width="${w}" height="${height}" fill="${color}"/>`;
                svg += `<text x="${x+20}" y="380" fill="#9ca3af" font-size="10">${e.date}</text>`;
            });
            
            return svg;
        }

        function renderVolume(data) {
            const max = Math.max(...data.map(d => d.volume));
            let bars = '';
            data.forEach((e, i) => {
                const green = e.close > e.open;
                const color = green ? '#22c55e80' : '#ef444480';
                const height = (e.volume / max) * 100;
                const x = (i / data.length) * 100;
                const width = (1 / data.length) * 90;
                bars += `<rect x="${x}%" y="${100-height}%" width="${width}%" height="${height}%" fill="${color}" rx="2"/>`;
            });
            return bars;
        }

        function getScoreColor(s) {
            return s >= 70 ? 'text-green-400' : s >= 50 ? 'text-yellow-400' : 'text-red-400';
        }

        function getScoreBg(s) {
            return s >= 70 ? 'bg-gray-800 border-green-500' : s >= 50 ? 'bg-gray-800 border-yellow-500' : 'bg-gray-800 border-red-500';
        }

        function render() {
            document.getElementById('app').innerHTML = `
                <div class="min-h-screen bg-gray-900 p-6">
                    <div class="max-w-7xl mx-auto">
                        <!-- Header -->
                        <div class="bg-gray-800 rounded-lg shadow-2xl p-6 mb-6 border border-gray-700">
                            <div class="flex justify-between">
                                <div>
                                    <h1 class="text-3xl font-bold text-white mb-2">${analysisData.aktie} <span class="text-blue-400">Swing Trading</span></h1>
                                    <p class="text-gray-400">Kurs: <span class="text-white font-bold">${analysisData.kurs} EUR</span></p>
                                </div>
                                <div class="text-right">
                                    <div class="text-4xl font-bold text-green-400">${analysisData.empfehlung.score}</div>
                                    <div class="text-sm text-gray-400">Confidence</div>
                                </div>
                            </div>
                        </div>

                        <!-- Empfehlung -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6 border-l-4 border-green-500">
                            <h2 class="text-2xl font-bold text-white mb-4">${analysisData.empfehlung.aktion}</h2>
                            <div class="grid grid-cols-4 gap-4">
                                <div><div class="text-sm text-gray-400">Setup</div><div class="font-bold text-white">${analysisData.empfehlung.typ}</div></div>
                                <div><div class="text-sm text-gray-400">Qualität</div><div class="font-bold text-green-400 text-xl">${analysisData.empfehlung.qualitaet}</div></div>
                                <div><div class="text-sm text-gray-400">Entry</div><div class="font-bold text-white">${analysisData.entry.preis}€</div></div>
                                <div><div class="text-sm text-gray-400">R:R</div><div class="font-bold text-blue-400">${analysisData.entry.rr}</div></div>
                            </div>
                        </div>

                        <!-- Chart -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700">
                            <div class="flex justify-between mb-4">
                                <h3 class="text-xl font-bold text-white">Candlestick Chart</h3>
                                <div class="flex gap-2">
                                    <button onclick="changeTimeframe('1H')" class="px-4 py-2 rounded font-semibold ${currentTimeframe === '1H' ? 'bg-blue-600 text-white' : 'bg-gray-700 text-gray-300'}">1H</button>
                                    <button onclick="changeTimeframe('1D')" class="px-4 py-2 rounded font-semibold ${currentTimeframe === '1D' ? 'bg-blue-600 text-white' : 'bg-gray-700 text-gray-300'}">1D</button>
                                </div>
                            </div>
                            <div class="bg-gray-900 p-4 rounded">
                                <svg width="100%" height="400" viewBox="0 0 800 400">
                                    ${[0,1,2,3,4,5].map(i => `<line x1="0" y1="${i*70}" x2="800" y2="${i*70}" stroke="#374151" stroke-width="0.5" stroke-dasharray="2,2"/>`).join('')}
                                    ${renderCandles(currentData)}
                                </svg>
                            </div>
                            <div class="mt-4">
                                <h4 class="text-sm font-semibold text-gray-400 mb-2">Volumen</h4>
                                <svg width="100%" height="120" viewBox="0 0 100 100" preserveAspectRatio="none">
                                    ${renderVolume(currentData)}
                                </svg>
                            </div>
                        </div>

                        <!-- Scores -->
                        <div class="grid grid-cols-6 gap-4 mb-6">
                            ${Object.entries(analysisData.scores).map(([k, v]) => `
                                <div class="${getScoreBg(v)} rounded p-4 border-l-4">
                                    <div class="text-xs uppercase text-gray-400 mb-1">${k}</div>
                                    <div class="text-3xl font-bold ${getScoreColor(v)}">${v}</div>
                                </div>
                            `).join('')}
                        </div>

                        <!-- Entry & Exit -->
                        <div class="grid grid-cols-2 gap-6 mb-6">
                            <div class="bg-gray-800 rounded p-6 border border-gray-700">
                                <h3 class="text-xl font-bold text-white mb-4">Entry</h3>
                                <div class="bg-yellow-900 bg-opacity-30 border-l-4 border-yellow-500 p-4 rounded mb-4">
                                    <div class="font-bold text-yellow-400">Status: ${analysisData.entry.status}</div>
                                    <div class="text-sm text-gray-400">Best: ${analysisData.entry.best}</div>
                                </div>
                                <div class="bg-green-900 bg-opacity-30 p-4 rounded border border-green-700">
                                    <div class="text-sm text-gray-300">Preis: <span class="font-bold text-green-400">${analysisData.entry.preis} EUR</span></div>
                                    <div class="text-sm text-gray-300">Methode: <span class="font-bold text-white">${analysisData.entry.methode}</span></div>
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded p-6 border border-gray-700">
                                <h3 class="text-xl font-bold text-white mb-4">Exit</h3>
                                <div class="bg-red-900 bg-opacity-30 border-l-4 border-red-500 p-3 rounded mb-4">
                                    <div class="text-sm text-gray-400">Stop Loss</div>
                                    <div class="text-2xl font-bold text-red-400">${analysisData.exit.stop} EUR</div>
                                </div>
                                <div class="space-y-2">
                                    <div class="bg-gray-700 p-3 rounded border border-gray-600">
                                        <div class="flex justify-between">
                                            <span class="font-bold text-white">${analysisData.exit.t1} EUR</span>
                                            <span class="text-green-400">T1 (50%)</span>
                                        </div>
                                    </div>
                                    <div class="bg-gray-700 p-3 rounded border border-gray-600">
                                        <div class="flex justify-between">
                                            <span class="font-bold text-white">${analysisData.exit.t2} EUR</span>
                                            <span class="text-green-400">T2 (30%)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Levels & Risk -->
                        <div class="grid grid-cols-2 gap-6 mb-6">
                            <div class="bg-gray-800 rounded p-6 border border-gray-700">
                                <h3 class="text-xl font-bold text-white mb-4">Levels</h3>
                                <div class="mb-4">
                                    <div class="text-gray-300 mb-2">Widerstände</div>
                                    ${analysisData.levels.resist.map(r => `
                                        <div class="bg-red-900 bg-opacity-20 p-2 rounded mb-2 border border-red-800">
                                            <span class="font-bold text-white">${r} EUR</span>
                                        </div>
                                    `).join('')}
                                </div>
                                <div>
                                    <div class="text-gray-300 mb-2">Unterstützung</div>
                                    ${analysisData.levels.support.map(s => `
                                        <div class="bg-green-900 bg-opacity-20 p-2 rounded mb-2 border border-green-800">
                                            <span class="font-bold text-white">${s} EUR</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            <div class="bg-gray-800 rounded p-6 border border-gray-700">
                                <h3 class="text-xl font-bold text-white mb-4">Risiko</h3>
                                <div class="grid grid-cols-2 gap-4 mb-4">
                                    <div class="bg-red-900 bg-opacity-20 p-4 rounded text-center border border-red-800">
                                        <div class="text-sm text-gray-400">Risiko</div>
                                        <div class="text-2xl font-bold text-red-400">${analysisData.risk.loss}€</div>
                                    </div>
                                    <div class="bg-green-900 bg-opacity-20 p-4 rounded text-center border border-green-800">
                                        <div class="text-sm text-gray-400">Ertrag</div>
                                        <div class="text-2xl font-bold text-green-400">${analysisData.risk.gain}€</div>
                                    </div>
                                </div>
                                <div class="bg-blue-900 bg-opacity-30 p-4 rounded text-center border border-blue-700">
                                    <div class="text-sm text-gray-400">R:R Ratio</div>
                                    <div class="text-3xl font-bold text-blue-400">${analysisData.risk.ratio}</div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-800 rounded p-4 text-center border border-gray-700">
                            <p class="text-gray-400 text-sm">7-Agenten Swing Trading System | ⚠️ Keine Anlageberatung</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function changeTimeframe(tf) {
            currentTimeframe = tf;
            currentData = candlestickData[tf];
            render();
        }

        // Initial render
        render();
    </script>
</body>
</html>
